{"componentChunkName":"component---src-templates-post-template-tsx","path":"/system-2-2024-10-29-dil/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>시스템 설계 검토사항</h1>\n<h2>1. 기본 요구사항</h2>\n<ul>\n<li><strong>GDPR 준수</strong>\n<ul>\n<li>인앱광고 연동 관련 검토 필요</li>\n<li>추후 상세 검토 예정</li>\n</ul>\n</li>\n</ul>\n<h2>2. 트래픽 분석</h2>\n<h3>QPS 계산</h3>\n<ul>\n<li>기본 데이터\n<ul>\n<li>DAU: 1억명</li>\n<li>사업장 수: 2억개</li>\n<li>사용자당 일일 검색 횟수: 5회</li>\n</ul>\n</li>\n<li>계산식\n<ul>\n<li>QPS = (1억 * 5회) / (24시간 * 60분 * 60초)</li>\n<li>결과: 약 5,000 QPS</li>\n</ul>\n</li>\n</ul>\n<h3>트래픽 특성</h3>\n<ul>\n<li>특정 시간대 트래픽 집중</li>\n<li>대응 방안\n<ul>\n<li>AWS Auto Scaling Group 활용</li>\n<li>피크 시간대 사전 Warm-up 고려</li>\n</ul>\n</li>\n</ul>\n<h2>3. API 설계</h2>\n<h3>Client API</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">GET /v1/search/nearby</code></pre></div>\n<h3>Admin API</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">GET    /v1/business/:id\nPOST   /v1/business\nPUT    /v1/business/:id\nDELETE /v1/business/:id</code></pre></div>\n<h2>4. 데이터베이스 검토사항</h2>\n<h3>현재 이슈</h3>\n<ul>\n<li>읽기 위주 작업에 RDB 사용의 적절성 검토 필요</li>\n<li>지리 데이터 처리를 위한 DB 선택\n<ul>\n<li>PostgreSQL + PostGIS 일반적 사용</li>\n<li>NoSQL 등 대체 솔루션과 비교 분석 필요</li>\n</ul>\n</li>\n</ul>\n<h3>아키텍처 방향</h3>\n<ul>\n<li>Read/Write 분리 클러스터링\n<ul>\n<li>최종 일관성 1일 이내 허용</li>\n<li>Replication Lag 허용</li>\n</ul>\n</li>\n</ul>\n<h3>서비스 분리</h3>\n<ul>\n<li>Client-Service (사업장 서비스)</li>\n<li>Admin-Service (관리자 서비스)</li>\n</ul>\n<h2>5. 지도 데이터 검색 알고리즘</h2>\n<h3>2차원 검색</h3>\n<ul>\n<li>MySQL 실행계획 추가 학습 필요</li>\n</ul>\n<h3>지도 데이터 색인 방식</h3>\n<h4>해시 기반</h4>\n<ul>\n<li>균등 격자</li>\n<li>지오 해시</li>\n<li>카르테시안 계층</li>\n</ul>\n<h4>트리 기반</h4>\n<ul>\n<li>쿼드 트리</li>\n<li>구글 S2</li>\n<li>R 트리</li>\n</ul>\n<h2>TODO</h2>\n<ul>\n<li>캐시 전략 수립</li>\n</ul>","frontmatter":{"title":"대규모 시스템 설계 기초 2 - DIL (1)","summary":"근접성 서비스","date":"2024.10.29.","categories":["study","DIL"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42u2U207CQBCG+8g+go9hYvTCExeoGAWDB2JQsIDFghwUiJwKrXLoAkVUvPidWUAw8cIE4pUXf3e7s/v905lmlZ5dwyKl/AMXC3REfXFAhomWgX5nPqjSIchwYCEQTGBp2YtS8REv3Qm0Do5326zaeBypJ+j9RyAFPwioJ+/hP9cl8K1vwm5U5YHhi4W3nol3h0bHJFl4pZGNBrTuiJrUt082KkX4Azo8xzcIhu9kBmo0De9pHFEtg0TyAXriHvHbrDSOxTO4UlNIp3MQTQNtNm+Pgc2nKjTamM8XcKNlkcsVpI78GtZdIRyQyfZeBKtbIbgPY9h0q3DtRxCOpOAjQzU2Mj670FEghsKHr65TaBGYg+x4QtnG9ax05lpxWdidY9y4SUY8t2mNy1MpF9GwKlCezQplEsbaTghbuypWNi7h8Wl4pfpMOu5Qc7hOfVGXf8PXupiKG8kxhR/sxkUWY/Hmrj3t4uz8V//hrNNsx/4vhz8CitE9MNKcQIY0n8owjBLsliX1CTPZynf2Ss39AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/a229594a2de7c0ed63d877869e75fd38/d0859/common.png","srcSet":"/static/a229594a2de7c0ed63d877869e75fd38/f1689/common.png 270w,\n/static/a229594a2de7c0ed63d877869e75fd38/42fd3/common.png 540w,\n/static/a229594a2de7c0ed63d877869e75fd38/d0859/common.png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"},"sources":[{"srcSet":"/static/a229594a2de7c0ed63d877869e75fd38/7e223/common.webp 270w,\n/static/a229594a2de7c0ed63d877869e75fd38/5cfb6/common.webp 540w,\n/static/a229594a2de7c0ed63d877869e75fd38/941f9/common.webp 1080w","type":"image/webp","sizes":"(min-width: 1080px) 1080px, 100vw"}]},"width":1080,"height":1080}},"publicURL":"/static/a229594a2de7c0ed63d877869e75fd38/common.png"}}}}]}},"pageContext":{"slug":"/system-2-2024-10-29-dil/"}},"staticQueryHashes":[],"slicesMap":{}}