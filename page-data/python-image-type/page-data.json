{"componentChunkName":"component---src-templates-post-template-tsx","path":"/python-image-type/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>파이썬 라이브러리별 이미지 타입 비교</h1>\n<p>최근 회사에서 이미지 AI 프로젝트를 진행하면서 이미지 처리에 대해 깊이 있게 공부하고 있습니다. 이미지 처리를 할 때 다양한 파이썬 라이브러리를 사용하게 되는데, 특히 각 라이브러리에서 사용하는 이미지 타입에 대해 헷갈리는 부분들이 있어 이를 정리해보고자 합니다.</p>\n<p>이미지 처리는 컴퓨터 비전, 머신 러닝, 그리고 다양한 응용 분야에서 중요한 역할을 합니다. 그러나 각 라이브러리마다 이미지를 다루는 방식이 조금씩 다르기 때문에, 이들을 올바르게 이해하고 사용하는 것이 중요합니다.</p>\n<h2>주요 이미지 처리 라이브러리 비교</h2>\n<p>이 글에서는 Python에서 널리 사용되는 세 가지 주요 이미지 처리 라이브러리를 비교해보겠습니다:</p>\n<ol>\n<li>OpenCV (cv2)</li>\n<li>Pillow (PIL)</li>\n<li>PyTorch (torchvision)</li>\n</ol>\n<p>각 라이브러리의 특징과 이미지를 다루는 방식을 코드 예제와 함께 살펴보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 필요한 라이브러리를 임포트합니다.</span>\n<span class=\"token keyword\">import</span> cv2\n<span class=\"token keyword\">import</span> torchvision<span class=\"token punctuation\">.</span>transforms <span class=\"token keyword\">as</span> transforms\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n\n<span class=\"token comment\"># PIL을 사용하여 이미지를 엽니다.</span>\npil_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./images/like_lenna224.png\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 이미지의 크기와 타입을 출력합니다.</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>pil_image<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># (224, 224)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>pil_image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># &lt;class 'PIL.PngImagePlugin.PngImageFile'></span>\n\n<span class=\"token comment\"># PIL 이미지를 PyTorch 텐서로 변환합니다.</span>\npil_image_tensor <span class=\"token operator\">=</span> transforms<span class=\"token punctuation\">.</span>ToTensor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>pil_image<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>pil_image_tensor<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># torch.Size([3, 224, 224])</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>pil_image_tensor<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">223</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">223</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># tensor(0.5804)</span>\n\n<span class=\"token comment\"># OpenCV를 사용하여 이미지를 읽습니다.</span>\nimage <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>imread<span class=\"token punctuation\">(</span><span class=\"token string\">\"./images/like_lenna224.png\"</span><span class=\"token punctuation\">,</span> cv2<span class=\"token punctuation\">.</span>IMREAD_COLOR<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># OpenCV 이미지를 PyTorch 텐서로 변환합니다.</span>\ntensor <span class=\"token operator\">=</span> transforms<span class=\"token punctuation\">.</span>ToTensor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>tensor<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span> <span class=\"token comment\"># torch.Size([3, 224, 224])</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>tensor<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">223</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">223</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># tensor(0.5804)</span>\n\n<span class=\"token comment\"># OpenCV 이미지의 크기와 타입을 출력합니다.</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># (224, 224, 3)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># &lt;class 'numpy.ndarray'></span>\n\n<span class=\"token comment\"># 이미지를 리사이징합니다 (너비 100, 높이 50).</span>\nresized <span class=\"token operator\">=</span> cv2<span class=\"token punctuation\">.</span>resize<span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># width 100 height 50 channel 3</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>resized<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># (50, 100, 3)</span>\n\n<span class=\"token comment\"># 리사이즈된 이미지의 특정 픽셀 값을 출력합니다.</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>resized<span class=\"token punctuation\">[</span><span class=\"token number\">49</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">99</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 148</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>resized<span class=\"token punctuation\">[</span><span class=\"token number\">49</span><span class=\"token punctuation\">:</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># [148]</span>\n\n<span class=\"token comment\"># 리사이즈된 이미지를 화면에 표시합니다.</span>\ncv2<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span><span class=\"token string\">\"Resized Image\"</span><span class=\"token punctuation\">,</span> resized<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 키 입력을 기다립니다.</span>\ncv2<span class=\"token punctuation\">.</span>waitKey<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 모든 창을 닫습니다.</span>\ncv2<span class=\"token punctuation\">.</span>destroyAllWindows<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위 코드는 각 라이브러리를 사용하여 이미지를 열고, 크기를 확인하고, 변환하는 과정을 보여줍니다. 특히 주목할 점은 각 라이브러리가 이미지를 다루는 방식의 차이입니다.</p>\n<h2>라이브러리별 이미지 표현 비교</h2>\n<p>각 라이브러리의 이미지 표현 방식을 비교해보면 다음과 같습니다:</p>\n<table>\n<thead>\n<tr>\n<th>특성</th>\n<th>PIL</th>\n<th>cv2 (OpenCV)</th>\n<th>tensor (PyTorch)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>크기 속성</td>\n<td>.size</td>\n<td>.shape</td>\n<td>.size() / .shape</td>\n</tr>\n<tr>\n<td>차원 순서</td>\n<td>(w, h)</td>\n<td>(h, w, c)</td>\n<td>(c, h, w)</td>\n</tr>\n<tr>\n<td>데이터 타입</td>\n<td>uint8</td>\n<td>uint8</td>\n<td>float32</td>\n</tr>\n<tr>\n<td>픽셀 값 범위</td>\n<td>0 - 255</td>\n<td>0 - 255</td>\n<td>0 - 1</td>\n</tr>\n<tr>\n<td>색상 순서</td>\n<td>RGB</td>\n<td>BGR</td>\n<td>RGB</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>PIL: 이미지 처리를 위한 파이썬 이미징 라이브러리로, 간단하고 직관적인 API를 제공합니다.</li>\n<li>OpenCV (cv2): 컴퓨터 비전을 위한 강력한 라이브러리로, 많은 이미지 처리 및 분석 기능을 제공합니다.</li>\n<li>PyTorch (tensor): 딥러닝을 위한 라이브러리로, GPU 가속을 지원하며 텐서 형태로 이미지를 다룹니다.</li>\n</ul>\n<h2>주요 용어 정리</h2>\n<p>이미지 처리를 공부하면서 알아두면 좋을 주요 용어들을 정리해보았습니다:</p>\n<ul>\n<li>해상도: 이미지가 보유하고 있는 픽셀의 양. 예: 1920 * 1080\n<ul>\n<li>설명: 이미지의 상세도를 나타내며, 숫자가 클수록 더 선명한 이미지를 의미합니다.</li>\n</ul>\n</li>\n<li>PPI (Pixels Per Inch): 인치당 픽셀 수\n<ul>\n<li>설명: 이미지의 밀도를 나타내며, 주로 출력물의 품질과 관련이 있습니다.</li>\n</ul>\n</li>\n<li>손실 압축: JPEG와 같이 이미지 품질을 일부 희생하여 파일 크기를 줄이는 압축 방식\n<ul>\n<li>설명: 파일 크기를 크게 줄일 수 있지만, 반복적인 압축 시 품질 저하가 누적됩니다.</li>\n</ul>\n</li>\n<li>무손실 압축: PNG와 같이 이미지 품질을 유지하면서 파일 크기를 줄이는 압축 방식\n<ul>\n<li>설명: 원본 이미지의 모든 정보를 보존하지만, 압축률이 상대적으로 낮습니다.</li>\n</ul>\n</li>\n<li>선형 필터: 가우시안 필터와 같이 주변 픽셀들의 가중 평균을 사용하는 필터\n<ul>\n<li>설명: 노이즈 제거나 이미지 부드럽게 만들기에 효과적입니다.</li>\n</ul>\n</li>\n<li>비선형 필터: 중앙값 필터와 같이 픽셀 값의 순서에 기반한 필터\n<ul>\n<li>설명: 엣지를 보존하면서 노이즈를 제거하는 데 효과적입니다.</li>\n</ul>\n</li>\n</ul>\n<h2>결론</h2>\n<p>이미지 처리에 사용되는 주요 파이썬 라이브러리들은 각각의 특징과 장단점이 있습니다.\n회사 프로젝트 코드를 보면 하나만 사용하는 경우는 잘 없었고 전부 사용하는 경우가 대부분이었습니다.\n그래서 각 라이브러리의 특징을 잘 이해하고, 상황에 맞게 적절히 사용하는 것이 중요하다고 생각합니다.</p>","frontmatter":{"title":"파이썬 라이브러리별 이미지 타입 비교","summary":"파이썬의 주요 이미지 처리 라이브러리인 OpenCV, PIL, PyTorch에서 이미지를 다루는 방법과 타입의 차이점을 알아봅니다.","date":"2024.08.05.","categories":["AI","Python","Image Processing"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42u2U207CQBCG+8g+go9hYvTCExeoGAWDB2JQsIDFghwUiJwKrXLoAkVUvPidWUAw8cIE4pUXf3e7s/v905lmlZ5dwyKl/AMXC3REfXFAhomWgX5nPqjSIchwYCEQTGBp2YtS8REv3Qm0Do5326zaeBypJ+j9RyAFPwioJ+/hP9cl8K1vwm5U5YHhi4W3nol3h0bHJFl4pZGNBrTuiJrUt082KkX4Azo8xzcIhu9kBmo0De9pHFEtg0TyAXriHvHbrDSOxTO4UlNIp3MQTQNtNm+Pgc2nKjTamM8XcKNlkcsVpI78GtZdIRyQyfZeBKtbIbgPY9h0q3DtRxCOpOAjQzU2Mj670FEghsKHr65TaBGYg+x4QtnG9ax05lpxWdidY9y4SUY8t2mNy1MpF9GwKlCezQplEsbaTghbuypWNi7h8Wl4pfpMOu5Qc7hOfVGXf8PXupiKG8kxhR/sxkUWY/Hmrj3t4uz8V//hrNNsx/4vhz8CitE9MNKcQIY0n8owjBLsliX1CTPZynf2Ss39AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/a229594a2de7c0ed63d877869e75fd38/d0859/common.png","srcSet":"/static/a229594a2de7c0ed63d877869e75fd38/f1689/common.png 270w,\n/static/a229594a2de7c0ed63d877869e75fd38/42fd3/common.png 540w,\n/static/a229594a2de7c0ed63d877869e75fd38/d0859/common.png 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"},"sources":[{"srcSet":"/static/a229594a2de7c0ed63d877869e75fd38/7e223/common.webp 270w,\n/static/a229594a2de7c0ed63d877869e75fd38/5cfb6/common.webp 540w,\n/static/a229594a2de7c0ed63d877869e75fd38/941f9/common.webp 1080w","type":"image/webp","sizes":"(min-width: 1080px) 1080px, 100vw"}]},"width":1080,"height":1080}},"publicURL":"/static/a229594a2de7c0ed63d877869e75fd38/common.png"}}}}]}},"pageContext":{"slug":"/python-image-type/"}},"staticQueryHashes":[],"slicesMap":{}}